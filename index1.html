<html>
<head>
    <title> Game</title>
    <link rel="stylesheet" href="style1.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!--firebase-->
    <script src="https://www.gstatic.com/firebasejs/7.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.6.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/live/3.1/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.3/firebase-database.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous"> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    </head>
<body>
<center><br><br><br><br>
    <div id="col">
        <h2 id="score"><b>Score:</b></h2>
        <h3>Enter your Room :</h3>
        <input type="text" id="addbox" placeholder="Enter your Room"><br>
        <button id="btn1" onclick="addscore()" class="btn btn-danger">Add Score</button><br>
        <button id="btn2" onclick="save()" class="btn btn-danger">Save into database</button>
        <br>
        <div id="div1">
        </div>
        <button id="change" onclick="changeroom()" class="btn btn-primary">Redirect</button>
    </div>
    <br>
    <div id="root"><br></div><br> 
</center>
<script>

  // Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCuM2tK35fbh501Ipq7pUTWDEekffJDrW4",
  authDomain: "firedatabase-cd464.firebaseapp.com",
  databaseURL: "https://firedatabase-cd464-default-rtdb.firebaseio.com",
  projectId: "firedatabase-cd464",
  storageBucket: "firedatabase-cd464.appspot.com",
  messagingSenderId: "502783055892",
  appId: "1:502783055892:web:6b47cd62b13fabdf946f01",
  measurementId: "G-VD2JL7MQQR"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
console.log(firebase)
 
 var src = 0;
function addscore(){
   src = src + 1;
   document.getElementById("score").innerHTML="Score : "+src;

}

function save(){
      addroom1=document.getElementById("addbox").value;
    firebase.database().ref("/").child("addroom1").update({
        score : src,
        purpose:addroom1
    });
    
    var newElement=document.createElement("h1");
    newElement.textContent=addroom1;
   
    div1.appendChild(newElement); 
    
    input1.value=" ";

  

}

var firebaseRef=firebase.database().ref("addroom1");
firebaseRef.on("value",function(snapshot){
       snapshot.forEach(function(element){
     document.querySelector('#root').innerHTML+='\n'+element.val()+"   ";
       });
})
function changeroom()
{
  window.location="index2.html"
}


</script>
</body>
</html>